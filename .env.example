# 智游助手v6.2 环境变量配置模板
# 复制此文件为 .env 并填入真实的API密钥
# ⚠️ 安全警告：请勿在此文件中填入真实的API密钥！
# ⚠️ 生产环境：请使用环境变量管理服务（如AWS Secrets Manager）
# 最后更新: 2025年8月8日
# 商业化就绪度: 45%

# ================================
# 安全配置指南
# ================================
# 1. 生产环境必须使用强密码和随机密钥
# 2. 定期轮换API密钥和JWT密钥
# 3. 使用HTTPS和安全的数据库连接
# 4. 启用所有安全特性开关
# 5. 详细配置请参考: docs/security-setup.md

# ================================
# 必需配置 (Required) - 请务必配置
# ================================

# DeepSeek API密钥 (必需)
# 获取地址: https://platform.deepseek.com/api-keys
DEEPSEEK_API_KEY=your_deepseek_api_key_here

# 高德地图MCP API密钥 (必需)
# 获取地址: https://console.amap.com/dev/key/app
AMAP_MCP_API_KEY=your_amap_key_here

# 硅基流动API (应急链路)
SILICONFLOW_API_KEY=your_siliconflow_api_key_here

# ================================
# 应用配置 (Application)
# ================================

# 应用基础URL
NEXT_PUBLIC_APP_URL=http://localhost:3001

# 应用名称
NEXT_PUBLIC_APP_NAME=智游助手v6.2

# 运行环境
NODE_ENV=development

# ================================
# 数据库配置 (Database)
# ================================

# 数据库连接URL (可选，默认使用SQLite)
# SQLite: file:./dev.db
# PostgreSQL: postgresql://user:password@localhost:5432/dbname
DATABASE_URL=file:./dev.db

# ================================
# 缓存配置 (Cache)
# ================================

# Redis连接URL (可选)
REDIS_URL=redis://localhost:6379

# 缓存TTL (秒)
CACHE_TTL=3600

# ================================
# AI服务配置 (AI Services)
# ================================

# OpenAI模型配置
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=4000
OPENAI_TEMPERATURE=0.7

# LangGraph配置
LANGGRAPH_CHECKPOINT_ENABLED=true
LANGGRAPH_MAX_ITERATIONS=10

# ================================
# 外部服务配置 (External Services)
# ================================

# 高德地图服务配置
AMAP_BASE_URL=https://restapi.amap.com/v3
AMAP_TIMEOUT=10000

# 天气服务配置 (可选)
WEATHER_API_KEY=your_weather_api_key

# ================================
# 安全配置 (Security)
# ================================

# CORS允许的源
CORS_ORIGIN=http://localhost:3001

# API速率限制
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW=900000

# JWT密钥 (未来版本使用)
JWT_SECRET=your_jwt_secret_here

# ================================
# 监控和日志 (Monitoring & Logging)
# ================================

# 日志级别
LOG_LEVEL=info

# Sentry错误追踪 (可选)
SENTRY_DSN=your_sentry_dsn

# Google Analytics (可选)
NEXT_PUBLIC_GA_ID=G-XXXXXXXXXX

# ================================
# 开发配置 (Development)
# ================================

# 调试模式
DEBUG=false

# 热重载
FAST_REFRESH=true

# 源码映射
GENERATE_SOURCEMAP=true

# ================================
# 生产配置 (Production)
# ================================

# 压缩输出
COMPRESS=true

# 分析包大小
ANALYZE=false

# CDN配置
CDN_URL=

# ================================
# WebSocket配置 (WebSocket)
# ================================

# WebSocket服务端口
WS_PORT=3002

# WebSocket超时时间
WS_TIMEOUT=30000

# ================================
# 文件上传配置 (File Upload)
# ================================

# 最大文件大小 (字节)
UPLOAD_MAX_SIZE=10485760

# 允许的文件类型
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp

# ================================
# 邮件服务配置 (Email) - 未来版本
# ================================

# SMTP配置
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_email_password
EMAIL_FROM=noreply@smart-travel-assistant.com

# ================================
# 第三方集成 (Third-party Integrations)
# ================================

# ============================================================================
# 智游助手v6.2 - 生产级环境配置模板
# ============================================================================
# 🚨 重要提醒：
# 1. 复制此文件为 .env.local 并填入真实配置
# 2. 生产环境必须使用强密钥和真实API凭据
# 3. 敏感信息不要提交到版本控制系统
# ============================================================================

# ============================================================================
# 应用基础配置
# ============================================================================
NODE_ENV=development
PORT=3004
NEXT_PUBLIC_API_BASE_URL=http://localhost:3004
CORS_ORIGINS=http://localhost:3000,http://localhost:3004

# ============================================================================
# JWT认证配置 (P0级关键功能) - 必须配置
# ============================================================================
# 🔑 生产环境请使用至少32位的随机字符串
# 生成命令: openssl rand -base64 32
JWT_ACCESS_SECRET=CHANGE_THIS_TO_32_CHAR_RANDOM_STRING_FOR_PRODUCTION_USE_OPENSSL_RAND
JWT_REFRESH_SECRET=CHANGE_THIS_TO_32_CHAR_RANDOM_STRING_FOR_PRODUCTION_USE_OPENSSL_RAND
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d
JWT_ISSUER=smart-travel-v6.2
JWT_AUDIENCE=smart-travel-users

# ================================
# 支付配置 (Payment) - 当前已禁用
# ================================
# ⚠️ 重要提示：支付功能当前已临时禁用
# 📋 状态文档：查看 PAYMENT_STATUS.md 了解详情
# 🔧 重新启用：参考 docs/payment-setup.md

# 支付功能总开关 (当前禁用)
ENABLE_PAYMENT=false

# 微信支付 (当前禁用)
# 申请地址: https://pay.weixin.qq.com/
ENABLE_WECHAT_PAY=false
# WECHAT_PAY_APP_ID=请填入真实APP_ID
# WECHAT_PAY_MCH_ID=请填入真实商户号

# 支付宝 (当前禁用)
# 申请地址: https://open.alipay.com/
ENABLE_ALIPAY=false
# ALIPAY_APP_ID=请填入真实APP_ID

# 支付加密 (当前禁用)
ENABLE_PAYMENT_ENCRYPTION=false

# ============================================================================
# 密码加密配置
# ============================================================================
BCRYPT_SALT_ROUNDS=12

# ============================================================================
# MCP协议配置 (Model Context Protocol) - 体验版支付
# ============================================================================
# 🚨 重要说明：
# 1. MCP体验版仅用于开发测试，严禁用于正式业务
# 2. 所有付款将在24小时内自动退回
# 3. 收款方为元器官方账户，非商户自有账户
# ============================================================================

# 启用MCP协议支付
PAYMENT_MCP_ENABLED=false

# 微信支付MCP配置
WECHAT_MCP_ENDPOINT=https://mcp-api.wechatpay.com
WECHAT_MCP_API_KEY=your_wechat_mcp_api_key_here
WECHAT_MCP_MERCHANT_ID=your_wechat_mcp_merchant_id
WECHAT_MCP_PRIVATE_KEY=your_wechat_mcp_private_key
WECHAT_MCP_PUBLIC_KEY=your_wechat_mcp_public_key
WECHAT_MCP_EXPERIENCE=true

# 支付宝MCP配置
ALIPAY_MCP_ENDPOINT=https://mcp-api.alipay.com
ALIPAY_MCP_API_KEY=your_alipay_mcp_api_key_here
ALIPAY_MCP_MERCHANT_ID=your_alipay_mcp_merchant_id
ALIPAY_MCP_EXPERIENCE=true

# MCP通用配置
MCP_EXPERIENCE_MODE=true
MCP_TIMEOUT=30000
MCP_RETRY_COUNT=3

# ============================================================================
# QR支付配置 (个人收款码) - 无需工商资质的支付解决方案
# ============================================================================
# 🚨 重要说明：
# 1. 个人收款码支付适用于无营业执照等工商资质的情况
# 2. 需要手动验证支付凭证，用户体验相对较差
# 3. 获得工商资质后建议升级到MCP协议
# ============================================================================

# 启用QR支付
QR_PAYMENT_ENABLED=false

# 微信个人收款码配置
WECHAT_PERSONAL_QR_ENABLED=false
WECHAT_PERSONAL_QR_CODE=your_wechat_personal_qr_code_data
WECHAT_PAYEE_NAME=智游助手
WECHAT_PAYEE_ACCOUNT=your_wechat_account
WECHAT_PAYEE_AVATAR=https://example.com/avatar.jpg
WECHAT_PERSONAL_MAX_AMOUNT=50000
WECHAT_PERSONAL_DAILY_LIMIT=500000

# 支付宝个人收款码配置
ALIPAY_PERSONAL_QR_ENABLED=false
ALIPAY_PERSONAL_QR_CODE=your_alipay_personal_qr_code_data
ALIPAY_PAYEE_NAME=智游助手
ALIPAY_PAYEE_ACCOUNT=your_alipay_account
ALIPAY_PAYEE_AVATAR=https://example.com/avatar.jpg
ALIPAY_PERSONAL_MAX_AMOUNT=50000
ALIPAY_PERSONAL_DAILY_LIMIT=500000

# Stripe支付 (备用)
STRIPE_PUBLIC_KEY=pk_test_your_stripe_public_key
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key

# 短信服务 (未来版本)
SMS_API_KEY=your_sms_api_key

# ================================
# 特性开关 (Feature Flags)
# ================================

# 启用用户认证 (v5.1+)
ENABLE_AUTH=false

# 启用历史记录 (v5.1+)
ENABLE_HISTORY=false

# 启用离线模式 (v5.2+)
ENABLE_OFFLINE=false

# 启用多语言 (v5.3+)
ENABLE_I18N=false

# ================================
# 性能配置 (Performance)
# ================================

# 图片优化
NEXT_PUBLIC_IMAGE_OPTIMIZATION=true

# 预加载策略
NEXT_PUBLIC_PRELOAD_STRATEGY=viewport

# 包分析
BUNDLE_ANALYZE=false

# ================================
# 测试配置 (Testing)
# ================================

# 测试环境数据库
TEST_DATABASE_URL=file:./test.db

# 测试API密钥
TEST_AMAP_API_KEY=test_key
TEST_OPENAI_API_KEY=test_key

# E2E测试配置
E2E_BASE_URL=http://localhost:3001
E2E_TIMEOUT=30000
