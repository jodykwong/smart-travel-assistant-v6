# æ™ºæ¸¸åŠ©æ‰‹v5.0 å·²çŸ¥é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

**ç‰ˆæœ¬**: v5.0.0  
**æ›´æ–°æ—¥æœŸ**: 2025å¹´8æœˆ1æ—¥  
**çŠ¶æ€**: æŒç»­æ›´æ–°  

---

## ğŸ¯ é—®é¢˜åˆ†ç±»è¯´æ˜

- ğŸ”´ **é«˜ä¼˜å…ˆçº§**: å½±å“æ ¸å¿ƒåŠŸèƒ½ï¼Œéœ€è¦ç«‹å³å¤„ç†
- ğŸŸ¡ **ä¸­ä¼˜å…ˆçº§**: å½±å“ç”¨æˆ·ä½“éªŒï¼Œè¿‘æœŸå¤„ç†
- ğŸŸ¢ **ä½ä¼˜å…ˆçº§**: ä¼˜åŒ–æ”¹è¿›ï¼Œé•¿æœŸè§„åˆ’
- âœ… **å·²è§£å†³**: å·²åœ¨å½“å‰ç‰ˆæœ¬ä¿®å¤
- ğŸ”„ **è¿›è¡Œä¸­**: æ­£åœ¨ä¿®å¤ä¸­

---

## ğŸ”´ é«˜ä¼˜å…ˆçº§é—®é¢˜

### 1. ç”¨æˆ·è®¤è¯ç³»ç»Ÿç¼ºå¤±
**é—®é¢˜æè¿°**: å½“å‰ç‰ˆæœ¬æš‚æœªå®ç°å®Œæ•´çš„ç”¨æˆ·è®¤è¯å’Œæˆæƒç³»ç»Ÿ

**å½±å“èŒƒå›´**:
- æ— æ³•ä¿å­˜ç”¨æˆ·åå¥½è®¾ç½®
- æ— æ³•ç®¡ç†ä¸ªäººæ—…è¡Œå†å²
- æ— æ³•å®ç°ä¸ªæ€§åŒ–æ¨è

**ä¸´æ—¶è§£å†³æ–¹æ¡ˆ**:
```typescript
// ä½¿ç”¨æœ¬åœ°å­˜å‚¨ä¿å­˜ç”¨æˆ·åå¥½
const saveUserPreferences = (preferences: UserPreferences) => {
  localStorage.setItem('userPreferences', JSON.stringify(preferences));
};

const getUserPreferences = (): UserPreferences | null => {
  const stored = localStorage.getItem('userPreferences');
  return stored ? JSON.parse(stored) : null;
};
```

**è®¡åˆ’ä¿®å¤**: v5.1ç‰ˆæœ¬ (2025å¹´9æœˆ)

### 2. å†å²è®°å½•åŠŸèƒ½ç¼ºå¤±
**é—®é¢˜æè¿°**: ç”¨æˆ·æ— æ³•æŸ¥çœ‹å’Œç®¡ç†å†å²æ—…è¡Œè®¡åˆ’

**å½±å“èŒƒå›´**:
- æ— æ³•é‡å¤ä½¿ç”¨ä¹‹å‰çš„è§„åˆ’
- æ— æ³•æ¯”è¾ƒä¸åŒçš„è§„åˆ’æ–¹æ¡ˆ
- æ— æ³•æ”¶è—å–œæ¬¢çš„è®¡åˆ’

**ä¸´æ—¶è§£å†³æ–¹æ¡ˆ**:
```typescript
// ä½¿ç”¨æµè§ˆå™¨æœ¬åœ°å­˜å‚¨
const savePlanToHistory = (plan: TravelPlan) => {
  const history = JSON.parse(localStorage.getItem('planHistory') || '[]');
  history.unshift({ ...plan, savedAt: new Date().toISOString() });
  // é™åˆ¶ä¿å­˜æ•°é‡
  const limitedHistory = history.slice(0, 10);
  localStorage.setItem('planHistory', JSON.stringify(limitedHistory));
};
```

**è®¡åˆ’ä¿®å¤**: v5.1ç‰ˆæœ¬ (2025å¹´9æœˆ)

### 3. å¤§å‹æ—…è¡Œè®¡åˆ’æ€§èƒ½é—®é¢˜
**é—®é¢˜æè¿°**: è¶…è¿‡10å¤©çš„å¤æ‚æ—…è¡Œè®¡åˆ’æ¸²æŸ“æ€§èƒ½ä¸‹é™

**å½±å“èŒƒå›´**:
- é¡µé¢åŠ è½½æ—¶é—´è¶…è¿‡5ç§’
- æ»šåŠ¨æ—¶å‡ºç°å¡é¡¿
- ç§»åŠ¨ç«¯ä½“éªŒè¾ƒå·®

**ä¸´æ—¶è§£å†³æ–¹æ¡ˆ**:
```typescript
// å®ç°è™šæ‹Ÿæ»šåŠ¨ä¼˜åŒ–
import { FixedSizeList as List } from 'react-window';

const VirtualizedPlanList = ({ items }) => (
  <List
    height={600}
    itemCount={items.length}
    itemSize={200}
    itemData={items}
  >
    {({ index, style, data }) => (
      <div style={style}>
        <PlanItem plan={data[index]} />
      </div>
    )}
  </List>
);
```

**è®¡åˆ’ä¿®å¤**: v5.2ç‰ˆæœ¬ (2025å¹´10æœˆ)

---

## ğŸŸ¡ ä¸­ä¼˜å…ˆçº§é—®é¢˜

### 1. APIå“åº”æ—¶é—´ä¸ç¨³å®š
**é—®é¢˜æè¿°**: åœ¨é«˜å³°æœŸAPIå“åº”æ—¶é—´å¯èƒ½è¶…è¿‡5ç§’

**å½±å“èŒƒå›´**:
- ç”¨æˆ·ç­‰å¾…æ—¶é—´è¿‡é•¿
- å¯èƒ½è§¦å‘è¶…æ—¶é”™è¯¯
- å½±å“ç”¨æˆ·ä½“éªŒ

**ä¸´æ—¶è§£å†³æ–¹æ¡ˆ**:
```typescript
// å®ç°è¯·æ±‚é‡è¯•æœºåˆ¶
const apiWithRetry = async (url: string, options: RequestInit, retries = 3) => {
  for (let i = 0; i < retries; i++) {
    try {
      const response = await fetch(url, {
        ...options,
        timeout: 10000, // 10ç§’è¶…æ—¶
      });
      if (response.ok) return response;
    } catch (error) {
      if (i === retries - 1) throw error;
      await new Promise(resolve => setTimeout(resolve, 1000 * (i + 1)));
    }
  }
};
```

**è®¡åˆ’ä¿®å¤**: v5.1ç‰ˆæœ¬ (2025å¹´9æœˆ)

### 2. é”™è¯¯æç¤ºä¸å¤Ÿå‹å¥½
**é—®é¢˜æè¿°**: éƒ¨åˆ†é”™è¯¯æç¤ºè¿‡äºæŠ€æœ¯åŒ–ï¼Œç”¨æˆ·éš¾ä»¥ç†è§£

**å½±å“èŒƒå›´**:
- ç”¨æˆ·æ— æ³•ç†è§£é”™è¯¯åŸå› 
- æ— æ³•è‡ªè¡Œè§£å†³é—®é¢˜
- å¢åŠ æ”¯æŒæˆæœ¬

**ä¸´æ—¶è§£å†³æ–¹æ¡ˆ**:
```typescript
// é”™è¯¯æ¶ˆæ¯æ˜ å°„
const errorMessages = {
  'NETWORK_ERROR': 'ç½‘ç»œè¿æ¥å¼‚å¸¸ï¼Œè¯·æ£€æŸ¥ç½‘ç»œåé‡è¯•',
  'API_TIMEOUT': 'æœåŠ¡å“åº”è¶…æ—¶ï¼Œè¯·ç¨åé‡è¯•',
  'INVALID_DESTINATION': 'è¯·è¾“å…¥æœ‰æ•ˆçš„ç›®çš„åœ°åç§°',
  'DATE_RANGE_ERROR': 'ç»“æŸæ—¥æœŸå¿…é¡»æ™šäºå¼€å§‹æ—¥æœŸ',
};

const getUserFriendlyError = (errorCode: string) => {
  return errorMessages[errorCode] || 'ç³»ç»Ÿå‡ºç°å¼‚å¸¸ï¼Œè¯·è”ç³»æŠ€æœ¯æ”¯æŒ';
};
```

**è®¡åˆ’ä¿®å¤**: v5.1ç‰ˆæœ¬ (2025å¹´9æœˆ)

### 3. ç§»åŠ¨ç«¯å¸ƒå±€ä¼˜åŒ–
**é—®é¢˜æè¿°**: éƒ¨åˆ†é¡µé¢åœ¨å°å±å¹•è®¾å¤‡ä¸Šæ˜¾ç¤ºä¸å¤Ÿä¼˜åŒ–

**å½±å“èŒƒå›´**:
- ç§»åŠ¨ç«¯ç”¨æˆ·ä½“éªŒä¸ä½³
- éƒ¨åˆ†åŠŸèƒ½éš¾ä»¥æ“ä½œ
- æ–‡å­—å¯èƒ½è¿‡å°

**ä¸´æ—¶è§£å†³æ–¹æ¡ˆ**:
```css
/* å“åº”å¼ä¼˜åŒ– */
@media (max-width: 768px) {
  .travel-plan-card {
    padding: 1rem;
    margin: 0.5rem;
  }
  
  .daily-plan-item {
    font-size: 0.9rem;
    line-height: 1.4;
  }
  
  .action-buttons {
    flex-direction: column;
    gap: 0.5rem;
  }
}
```

**è®¡åˆ’ä¿®å¤**: v5.2ç‰ˆæœ¬ (2025å¹´10æœˆ)

---

## ğŸŸ¢ ä½ä¼˜å…ˆçº§é—®é¢˜

### 1. å›½é™…åŒ–æ”¯æŒä¸å®Œæ•´
**é—®é¢˜æè¿°**: ä»…æ”¯æŒä¸­æ–‡ï¼Œç¼ºä¹å¤šè¯­è¨€æ”¯æŒ

**å½±å“èŒƒå›´**:
- é™åˆ¶å›½é™…ç”¨æˆ·ä½¿ç”¨
- æ— æ³•æ‹“å±•æµ·å¤–å¸‚åœº

**è®¡åˆ’ä¿®å¤**: v5.3ç‰ˆæœ¬ (2025å¹´11æœˆ)

### 2. ç¦»çº¿åŠŸèƒ½ç¼ºå¤±
**é—®é¢˜æè¿°**: æ— æ³•åœ¨ç¦»çº¿çŠ¶æ€ä¸‹æŸ¥çœ‹å·²ç”Ÿæˆçš„è®¡åˆ’

**å½±å“èŒƒå›´**:
- æ—…è¡Œä¸­æ— ç½‘ç»œæ—¶æ— æ³•æŸ¥çœ‹è®¡åˆ’
- ç”¨æˆ·ä½“éªŒä¸å¤Ÿå®Œæ•´

**è®¡åˆ’ä¿®å¤**: v5.2ç‰ˆæœ¬ (2025å¹´10æœˆ)

### 3. é«˜çº§ç­›é€‰åŠŸèƒ½
**é—®é¢˜æè¿°**: ç¼ºä¹é«˜çº§çš„ç­›é€‰å’Œæ’åºåŠŸèƒ½

**å½±å“èŒƒå›´**:
- æ— æ³•æŒ‰ç‰¹å®šæ¡ä»¶ç­›é€‰æ¨è
- ä¸ªæ€§åŒ–ç¨‹åº¦æœ‰é™

**è®¡åˆ’ä¿®å¤**: v5.3ç‰ˆæœ¬ (2025å¹´11æœˆ)

---

## âœ… å·²è§£å†³é—®é¢˜

### 1. æ—¥æœŸè®¡ç®—é”™è¯¯ âœ…
**é—®é¢˜**: æ—…è¡Œå¤©æ•°è®¡ç®—ä¸å‡†ç¡®
**è§£å†³æ–¹æ¡ˆ**: é‡æ„æ—¥æœŸè®¡ç®—é€»è¾‘ï¼Œä½¿ç”¨date-fnsåº“
**ä¿®å¤ç‰ˆæœ¬**: v5.0.0

### 2. APIè°ƒç”¨å¤±è´¥å¤„ç† âœ…
**é—®é¢˜**: APIå¤±è´¥æ—¶å‡ºç°ç™½å±
**è§£å†³æ–¹æ¡ˆ**: å®ç°ä¸‰å±‚é™çº§æœºåˆ¶
**ä¿®å¤ç‰ˆæœ¬**: v5.0.0

### 3. å†…å­˜æ³„æ¼é—®é¢˜ âœ…
**é—®é¢˜**: é•¿æ—¶é—´ä½¿ç”¨å¯¼è‡´å†…å­˜å ç”¨è¿‡é«˜
**è§£å†³æ–¹æ¡ˆ**: ä¼˜åŒ–ç»„ä»¶ç”Ÿå‘½å‘¨æœŸå’Œäº‹ä»¶ç›‘å¬å™¨æ¸…ç†
**ä¿®å¤ç‰ˆæœ¬**: v5.0.0

---

## ğŸ”„ è¿›è¡Œä¸­çš„ä¿®å¤

### 1. æ•°æ®ç¼“å­˜ä¼˜åŒ– ğŸ”„
**çŠ¶æ€**: å¼€å‘ä¸­
**é¢„è®¡å®Œæˆ**: 2025å¹´8æœˆ15æ—¥
**æè¿°**: ä¼˜åŒ–æ•°æ®ç¼“å­˜ç­–ç•¥ï¼Œæå‡å“åº”é€Ÿåº¦

### 2. é”™è¯¯ç›‘æ§ç³»ç»Ÿ ğŸ”„
**çŠ¶æ€**: æµ‹è¯•ä¸­
**é¢„è®¡å®Œæˆ**: 2025å¹´8æœˆ20æ—¥
**æè¿°**: é›†æˆSentryé”™è¯¯ç›‘æ§ï¼Œæå‡é—®é¢˜å‘ç°èƒ½åŠ›

---

## ğŸ› ï¸ ä¸´æ—¶è§£å†³æ–¹æ¡ˆæ±‡æ€»

### æ€§èƒ½ä¼˜åŒ–
```typescript
// 1. ç»„ä»¶æ‡’åŠ è½½
const LazyComponent = lazy(() => import('./HeavyComponent'));

// 2. å›¾ç‰‡æ‡’åŠ è½½
const LazyImage = ({ src, alt }) => {
  const [isLoaded, setIsLoaded] = useState(false);
  const imgRef = useRef();
  
  useEffect(() => {
    const observer = new IntersectionObserver(([entry]) => {
      if (entry.isIntersecting) {
        setIsLoaded(true);
        observer.disconnect();
      }
    });
    
    if (imgRef.current) observer.observe(imgRef.current);
    return () => observer.disconnect();
  }, []);
  
  return (
    <div ref={imgRef}>
      {isLoaded && <img src={src} alt={alt} />}
    </div>
  );
};

// 3. é˜²æŠ–æœç´¢
const useDebounce = (value, delay) => {
  const [debouncedValue, setDebouncedValue] = useState(value);
  
  useEffect(() => {
    const handler = setTimeout(() => setDebouncedValue(value), delay);
    return () => clearTimeout(handler);
  }, [value, delay]);
  
  return debouncedValue;
};
```

### é”™è¯¯å¤„ç†
```typescript
// å…¨å±€é”™è¯¯è¾¹ç•Œ
class ErrorBoundary extends Component {
  constructor(props) {
    super(props);
    this.state = { hasError: false, error: null };
  }
  
  static getDerivedStateFromError(error) {
    return { hasError: true, error };
  }
  
  componentDidCatch(error, errorInfo) {
    console.error('Error caught by boundary:', error, errorInfo);
    // å‘é€é”™è¯¯æŠ¥å‘Šåˆ°ç›‘æ§æœåŠ¡
  }
  
  render() {
    if (this.state.hasError) {
      return (
        <div className="error-fallback">
          <h2>å‡ºç°äº†ä¸€äº›é—®é¢˜</h2>
          <p>æˆ‘ä»¬å·²ç»è®°å½•äº†è¿™ä¸ªé”™è¯¯ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•ã€‚</p>
          <button onClick={() => window.location.reload()}>
            åˆ·æ–°é¡µé¢
          </button>
        </div>
      );
    }
    
    return this.props.children;
  }
}
```

---

## ğŸ“ é—®é¢˜åé¦ˆ

å¦‚æœæ‚¨å‘ç°æ–°çš„é—®é¢˜æˆ–æœ‰æ”¹è¿›å»ºè®®ï¼Œè¯·ï¼š

1. **æ£€æŸ¥å·²çŸ¥é—®é¢˜åˆ—è¡¨**: ç¡®è®¤é—®é¢˜æ˜¯å¦å·²çŸ¥
2. **æ”¶é›†è¯¦ç»†ä¿¡æ¯**: åŒ…æ‹¬é”™è¯¯ä¿¡æ¯ã€å¤ç°æ­¥éª¤ã€ç¯å¢ƒä¿¡æ¯
3. **æäº¤é—®é¢˜æŠ¥å‘Š**: é€šè¿‡GitHub Issuesæˆ–æŠ€æœ¯æ”¯æŒæ¸ é“
4. **æä¾›è”ç³»æ–¹å¼**: ä¾¿äºæˆ‘ä»¬è·Ÿè¿›å’Œåé¦ˆ

### é—®é¢˜æŠ¥å‘Šæ¨¡æ¿
```markdown
## é—®é¢˜æè¿°
ç®€è¦æè¿°é‡åˆ°çš„é—®é¢˜

## å¤ç°æ­¥éª¤
1. ç¬¬ä¸€æ­¥
2. ç¬¬äºŒæ­¥
3. ç¬¬ä¸‰æ­¥

## é¢„æœŸè¡Œä¸º
æè¿°æœŸæœ›çš„æ­£ç¡®è¡Œä¸º

## å®é™…è¡Œä¸º
æè¿°å®é™…å‘ç”Ÿçš„æƒ…å†µ

## ç¯å¢ƒä¿¡æ¯
- æµè§ˆå™¨: Chrome 91.0.4472.124
- æ“ä½œç³»ç»Ÿ: macOS 11.4
- è®¾å¤‡: MacBook Pro 2021
- ç½‘ç»œ: WiFi

## é™„åŠ ä¿¡æ¯
å…¶ä»–ç›¸å…³ä¿¡æ¯æˆ–æˆªå›¾
```

---

**æŒç»­æ”¹è¿›**: æˆ‘ä»¬ä¼šå®šæœŸæ›´æ–°æ­¤æ–‡æ¡£ï¼Œç¡®ä¿é—®é¢˜çŠ¶æ€çš„å‡†ç¡®æ€§å’Œè§£å†³æ–¹æ¡ˆçš„æœ‰æ•ˆæ€§ã€‚
